<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <title>Week 8 Team Activity</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
</head>

<body>


    <button id="prev">Pre</button>
    <button id="next">Next</button>

</body>
<script>
    let pageNumber = 1;
    let ships;
    window.addEventListener("load", e => {
        ships = showShips();
        console.log(ships);
    })

async function next(ship){
    if(ship["next"]  === null && ship.next === null){
        return 0;
    }
    console.log(ship["next"]);
    let obj;
    await fetch(ship.next)
  .then((response) => response.json())
  .then((data) => {ships = data});
    return obj;
}

async function prev(ship){
    if(ship["previous"] === null && ship.next === null){
        return 0;
    }
    console.log(ship["previous"]);
    let obj;
    await fetch(ship.previous)
  .then((response) => response.json())
  .then((data) => {ships = data});
    return obj;
}

async function showShips() {
    //?page='+`${page}`
    let obj;
    await fetch('https://swapi.dev/api/starships/')
  .then((response) => response.json())
  .then((data) => {ships = data});
    return obj;
    
}

document.getElementById('next').addEventListener('touchend', (event) => {
    if(ships.next !== null){
        ships = prev(ships);
    }
    console.log(ships);
});

document.getElementById('prev').addEventListener('touchend', (event) => {
    if(ships.previous !== null){
        ships = prev(ships);
    }
    console.log(ships);
});
</script>
</html>